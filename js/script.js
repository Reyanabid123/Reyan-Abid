document.addEventListener("DOMContentLoaded",(()=>{let e,t=window.pageYOffset;window.addEventListener("scroll",(()=>{const e=window.pageYOffset,o=document.querySelector(".navbar");o&&(e>t?gsap.to(o,{top:"-100px",duration:.5,ease:"power2.out"}):gsap.to(o,{top:"0px",duration:.5,ease:"power2.out"}),t=e<=0?0:e)}));try{const e=window.location.hash;let t=e?parseInt(e.substring(1),10):parseInt(localStorage.getItem("savedScroll"),10);isNaN(t)||window.scrollTo(0,t)}catch(e){}if(window.addEventListener("scroll",(()=>{e&&clearTimeout(e),e=setTimeout((()=>{const e=window.scrollY;history.replaceState(null,null,"#"+e),localStorage.setItem("savedScroll",e)}),150)})),"undefined"==typeof gsap||!gsap.registerPlugin)return;if(window.ScrollTrigger&&window.ScrollToPlugin&&gsap.registerPlugin(window.ScrollTrigger,window.ScrollToPlugin),"ontouchstart"in window){const e=document.createElement("div");e.id="gsap-follower-mobile",Object.assign(e.style,{position:"fixed",top:"0",left:"0",width:"15px",height:"15px",borderRadius:"50%",background:"rgba(0, 0, 0, 0.5)",pointerEvents:"none",zIndex:"9999",transformOrigin:"center center",opacity:"1"}),document.body.appendChild(e),document.addEventListener("touchmove",(t=>{const o=t.touches[0];gsap.to(e,{duration:.3,x:o.clientX-7.5,y:o.clientY-7.5,ease:"power2.out"})}))}else window.Shery&&Shery.mouseFollower&&Shery.mouseFollower({skew:!0,ease:"cubic-bezier(0.23, 1, 0.320, 1)",duration:.1});gsap.utils.toArray(".animate-text").forEach((e=>{gsap.timeline({scrollTrigger:{trigger:e,start:"top 85%",toggleActions:"play pause resume reset",onEnter:()=>{},onLeaveBack:()=>{}}}).from(e,{opacity:0,y:80,skewY:15,scale:.7,duration:.8,ease:"power4.out"}).to(e,{duration:.5,scale:1.05,ease:"power2.inOut"}).to(e,{duration:.5,scale:1,ease:"power2.inOut"})})),document.querySelectorAll('a[href^="#"]').forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const o=e.getAttribute("href").substring(1),n=document.getElementById(o);n&&gsap.to(window,{duration:1,scrollTo:{y:n,offsetY:50},ease:"power2.out"})}))}));const o=gsap.timeline({defaults:{ease:"power4.out"}});o.from(".navbar",{duration:.8,y:50,opacity:0,delay:.2}),document.querySelector(".navbar h2 span")&&o.from(".navbar h2 span",{duration:.5,y:20,opacity:0,ease:"back.out(1.7)",stagger:.05},"-=0.5"),o.from(".navbar ul li",{duration:.8,y:20,opacity:0,ease:"back.out(1.7)",stagger:.1},"-=0.7");const n=document.querySelector(".holder h2");n&&(n.style.letterSpacing="2px",gsap.set(n,{opacity:0,y:20}),gsap.to(n,{opacity:1,y:0,duration:.8,ease:"power2.out"}));const i=document.querySelector(".left-box h2");i&&gsap.fromTo(i,{y:50,opacity:0},{duration:1,y:0,opacity:1,ease:"power2.out",scrollTrigger:{trigger:i,start:"top 85%",end:"top 60%",toggleActions:"play pause resume reset"}});const s=document.querySelector(".testYou");if(s){const e=document.createElement("canvas");e.width=s.clientWidth,e.height=s.clientHeight,Object.assign(e.style,{width:"100%",height:"100%",position:"absolute",top:"0",left:"0",zIndex:"9999",pointerEvents:"auto"}),s.style.position="relative",s.appendChild(e);const t=e.getContext("2d");t.strokeStyle="rgba(0, 0, 0, 0.3)",t.lineWidth=3,t.lineCap="round";let o=!1,n=0,i=0,l=0;function a(s){o=!0,l=0,t.lineWidth="mousedown"===s.type?5:10;const a=e.getBoundingClientRect();n=(s.touches?s.touches[0].clientX:s.clientX)-a.left,i=(s.touches?s.touches[0].clientY:s.clientY)-a.top}function r(s){if(!o)return;const a=e.getBoundingClientRect(),r=(s.touches?s.touches[0].clientX:s.clientX)-a.left,c=(s.touches?s.touches[0].clientY:s.clientY)-a.top;t.beginPath(),t.moveTo(n,i),t.lineTo(r,c),t.stroke(),l+=Math.hypot(r-n,c-i),n=r,i=c}function c(){if(o=!1,l>50){const o=e.toDataURL(),n=document.createElement("img");n.src=o,Object.assign(n.style,{position:"absolute",top:"0px",left:"0px",width:e.offsetWidth+"px",height:e.offsetHeight+"px",pointerEvents:"none"}),s.appendChild(n),t.clearRect(0,0,e.width,e.height),gsap.to(n,{duration:1,y:s.clientHeight-e.getBoundingClientRect().top,ease:"bounce.out",onComplete:()=>{n.remove()}})}else gsap.to(e,{duration:1.5,opacity:0,delay:1.5,onComplete:()=>{t.clearRect(0,0,e.width,e.height),e.style.opacity=1}})}window.addEventListener("resize",(()=>{e.width=s.clientWidth,e.height=s.clientHeight})),e.addEventListener("mousedown",a),e.addEventListener("mousemove",r),e.addEventListener("mouseup",c),e.addEventListener("mouseout",c),e.addEventListener("touchstart",a),e.addEventListener("touchmove",r),e.addEventListener("touchend",c)}if(s){const e=document.createElement("canvas");e.width=s.clientWidth,e.height=s.clientHeight,Object.assign(e.style,{width:"100%",height:"100%",position:"absolute",top:"0",left:"0",zIndex:"9999",pointerEvents:"auto"}),s.style.position="relative",s.appendChild(e);const t=e.getContext("2d");t.strokeStyle="rgba(219, 219, 219, 0.75)",t.lineWidth=5,t.lineCap="round";let o,n=!1,i=0,l=0;function a(s){o&&(clearTimeout(o),o=null,gsap.killTweensOf(e),e.style.opacity=1),n=!0,t.lineWidth="mousedown"===s.type?5:10;const a=e.getBoundingClientRect();i=(s.touches?s.touches[0].clientX:s.clientX)-a.left,l=(s.touches?s.touches[0].clientY:s.clientY)-a.top}function r(o){if(!n)return;const s=e.getBoundingClientRect(),a=(o.touches?o.touches[0].clientX:o.clientX)-s.left,r=(o.touches?o.touches[0].clientY:o.clientY)-s.top;t.beginPath(),t.moveTo(i,l),t.lineTo(a,r),t.stroke(),i=a,l=r}function c(){n=!1,o=setTimeout((()=>{gsap.to(e,{duration:2.5,opacity:0,onComplete:()=>{t.clearRect(0,0,e.width,e.height),e.style.opacity=1}})}),2500)}window.addEventListener("resize",(()=>{e.width=s.clientWidth,e.height=s.clientHeight})),e.addEventListener("mousedown",a),e.addEventListener("mousemove",r),e.addEventListener("mouseup",c),e.addEventListener("mouseout",c),e.addEventListener("touchstart",a),e.addEventListener("touchmove",r),e.addEventListener("touchend",c)}}));